% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getkd.R
\name{getkpd}
\alias{getkpd}
\title{Get and cache KEGG pathway data}
\usage{
getkpd(species, cache_dir)
}
\arguments{
\item{species}{KEGG species code (e.g., "hsa" for human, "mmu" for mouse)}

\item{cache_dir}{Directory path for storing cache files}
}
\value{
A list containing two elements:
\itemize{
  \item \code{pathways}: Named vector mapping pathway IDs to pathway names
  \item \code{pathway2compound}: List mapping pathway IDs to compound ID vectors
}
}
\description{
This function retrieves KEGG pathway data for a specified species and caches it locally
for efficient reuse in enrichment analysis. If cached data exists, it will be loaded 
instead of fetching from KEGG again.
}
\details{
The function performs the following steps:
\enumerate{
  \item Checks for existing cache file in the specified directory
  \item If cache exists, loads and returns the cached data
  \item If no cache exists:
  \enumerate{
    \item Fetches pathway list from KEGG using \code{KEGGREST::keggList}
    \item Retrieves compounds for each pathway using \code{KEGGREST::keggGet}
    \item Caches the results as an RDS file
  }
  \item Returns pathway data as a list with two components
}

Cache files are named as \code{kegg_pathways_<species>.rds} in the specified directory.
}
\note{
The first run for a species may take several minutes (5-15 minutes depending on species).
Subsequent runs will be faster due to caching. KEGG API limits may apply for frequent requests.
}
\examples{
\dontrun{
# Get human pathway data
human_data <- getkpd(species = "hsa", cache_dir = tempdir())

# View pathway names
head(human_data$pathways)

# View compounds in first pathway
human_data$pathway2compound[[1]]
}
}
\seealso{
\code{\link{keggenrich}} for enrichment analysis using this data
}
\author{
Your Name
}
\keyword{data}
\keyword{database}
